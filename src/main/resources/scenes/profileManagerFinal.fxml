<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<?import javafx.scene.chart.PieChart?>
<ScrollPane fitToHeight="true" fitToWidth="true"
            style="-fx-background-color: white; -fx-background-color: white;"
            xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.college.controller.OverviewController">

    <AnchorPane style="-fx-padding: 20; -fx-background-color: white;">
        <VBox alignment="CENTER" spacing="40" style="-fx-background-color: white;" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">

            <!-- Header -->
            <Label style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #398F6C;" text="Profile" />


            <HBox alignment="CENTER" spacing="30">
                <!-- ======================================= -->

                <!-- Email -->
                <VBox alignment="CENTER" spacing="10">
                    <VBox style="-fx-background-color: #66BA88; -fx-padding: 20; -fx-spacing: 10; -fx-min-width: 220; -fx-pref-height: 180; -fx-alignment: center; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0, 0, 2);">
                        <Label style="-fx-font-size: 30px; -fx-text-fill: white;" text="👥" />
                        <Label style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="Email" />
                        <Label fx:id="userEmailLabel" onMouseClicked="#updateEmail" style="-fx-text-fill: white; -fx-font-size: 32px; -fx-font-weight: bold;" text="email">
                            <cursor>
                                <Cursor fx:constant="HAND" />
                            </cursor></Label>
                    </VBox>
                </VBox>

                <!-- Name -->
                <VBox alignment="CENTER" spacing="10">
                    <VBox style="-fx-background-color: #66BA88; -fx-padding: 20; -fx-spacing: 10; -fx-min-width: 220; -fx-pref-height: 180; -fx-alignment: center; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0, 0, 2);">
                        <Label style="-fx-font-size: 30px; -fx-text-fill: white;" text="📊" />
                        <Label style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="Username" />
                        <Label fx:id="nameLabel" onMouseClicked="#updateName" style="-fx-text-fill: white; -fx-font-size: 32px; -fx-font-weight: bold;" text="username">
                            <cursor>
                                <Cursor fx:constant="HAND" />
                            </cursor></Label>
                    </VBox>
                </VBox>
                <!-- ======================================= -->
            </HBox>


            <!-- image upload -->
            <HBox alignment="CENTER" spacing="10">
                <Button fx:id="uploadImageButton" onAction="#handleUploadImage" prefHeight="35" prefWidth="220" style="-fx-background-color: #66BA88; -fx-text-fill: white; -fx-background-radius: 10;" text="Upload Image">
                    <cursor>
                        <Cursor fx:constant="HAND" />
                    </cursor></Button>
            </HBox>

            <!-- clock -->
            <HBox fx:id="clockBox" alignment="CENTER" maxWidth="400" spacing="10" style="-fx-background-color: #66BA88; -fx-background-radius: 12; -fx-padding: 10;" AnchorPane.rightAnchor="20" AnchorPane.topAnchor="20">

                <!-- Clock icon -->
                <Label style="-fx-font-size: 24px;" text="⏰" />

                <!-- Time & Date -->
                <Label fx:id="clockLabel" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: white;" />
                <cursor>
                    <Cursor fx:constant="DEFAULT" />
                </cursor>
            </HBox>


            <!-- Bottom Row: 2 Charts -->
            <!-- Employees Chart -->
            <HBox alignment="CENTER" spacing="30" visible="false" >

                <!-- Employees Pie Chart -->
                <VBox style="-fx-background-color: #ffffff;
                 -fx-border-color: #27ae60;
                 -fx-border-width: 2;
                 -fx-border-radius: 15;
                 -fx-background-radius: 15;
                 -fx-padding: 10;"
                      alignment="CENTER">
                    <PieChart fx:id="totalEmployeesPieChart" title="Total Employees" prefHeight="300" prefWidth="350"/>
                </VBox>

                <!-- Reservations Pie Chart -->
                <VBox style="-fx-background-color: #ffffff;
                 -fx-border-color: #27ae60;
                 -fx-border-width: 2;
                 -fx-border-radius: 15;
                 -fx-background-radius: 15;
                 -fx-padding: 10;"
                      alignment="CENTER">
                    <PieChart fx:id="reservationsPieChart" title="Reservations" prefHeight="300" prefWidth="350"/>
                </VBox>

            </HBox>
        </VBox>
    </AnchorPane>
</ScrollPane>